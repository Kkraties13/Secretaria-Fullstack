{% extends 'base.html' %}

{% block title %}Notas Acadêmicas{% endblock %}

{% block content %}
<h1 class="h3 mb-4 text-gray-800">Notas Acadêmicas</h1>

<div class="row mb-4">
    <!-- Filtros de Bimestre -->
    <div class="col-md-4">
        <label for="filtroBimestre" class="form-label">Filtrar por Bimestre</label>
        <select id="filtroBimestre" class="form-select custom-card">
            <option selected>2º Bimestre / 2024</option>
            <option>1º Bimestre / 2024</option>
            <option>3º Bimestre / 2024</option>
        </select>
    </div>
</div>

<div class="row">
    <!-- Gráfico de Desempenho (8 colunas) -->
    <div class="col-lg-8 mb-4">
        <div class="card custom-card shadow h-100 p-3">
            <div class="card-header bg-white border-0">
                <h6 class="m-0 font-weight-bold text-primary">Desempenho por Matéria</h6>
            </div>
            <div class="card-body" style="height: 300px;">
                <canvas id="desempenhoChart"></canvas>
            </div>
        </div>
    </div>

    <!-- Resumo de Ocorrências (4 colunas) -->
    <div class="col-lg-4 mb-4">
        <div class="card custom-card shadow h-100 p-3">
            <div class="card-header bg-white border-0">
                <h6 class="m-0 font-weight-bold text-danger">Faltas, Advertências e Suspensões</h6>
            </div>
            <div class="card-body">
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h1 class="display-4 text-danger mb-0">12</h1>
                    <span class="text-muted">Total de Faltas</span>
                </div>
                <ul class="list-group list-group-flush small">
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        Advertências:
                        <span class="badge bg-warning text-dark rounded-pill">2</span>
                    </li>
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        Suspensões:
                        <span class="badge bg-danger rounded-pill">0</span>
                    </li>
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        Frequência (Geral):
                        <span class="badge bg-success rounded-pill">92%</span>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>

<!-- Tabela de Notas Detalhadas (Acordeão) -->
<div class="card custom-card shadow mb-4">
    <div class="card-header py-3 bg-white border-bottom-0">
        <h6 class="m-0 font-weight-bold text-primary">Detalhes de Notas (Matéria por Matéria)</h6>
    </div>
    <div class="card-body">
        <div class="accordion" id="accordionNotas">
            
            <!-- Item 1: Português -->
            <div class="accordion-item custom-card mb-2">
                <h2 class="accordion-header" id="headingOne">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                        <i class="bi bi-book-half me-2 text-primary"></i> Português (Média: 8.5)
                    </button>
                </h2>
                <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#accordionNotas">
                    <div class="accordion-body">
                        <table class="table table-striped table-hover small">
                            <thead>
                                <tr>
                                    <th>Avaliação</th>
                                    <th>Data</th>
                                    <th>Nota</th>
                                    <th>Peso</th>
                                    <th>Faltas</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr><td>Prova Bimestral</td><td>15/05</td><td>9.0</td><td>50%</td><td>0</td></tr>
                                <tr><td>Trabalho em Grupo</td><td>01/06</td><td>8.0</td><td>30%</td><td>0</td></tr>
                                <tr><td>Participação</td><td>Bimestral</td><td>8.5</td><td>20%</td><td>2</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Item 2: Matemática -->
            <div class="accordion-item custom-card mb-2">
                <h2 class="accordion-header" id="headingTwo">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                        <i class="bi bi-calculator-fill me-2 text-success"></i> Matemática (Média: 7.0)
                    </button>
                </h2>
                <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionNotas">
                    <div class="accordion-body">
                        <p class="small text-muted">Ainda não há notas detalhadas para este bimestre. Média provisória.</p>
                    </div>
                </div>
            </div>

            <!-- Adicione mais itens para outras disciplinas aqui... -->
        </div>
    </div>
</div>
{% endblock %}